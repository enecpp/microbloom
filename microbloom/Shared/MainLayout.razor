@namespace microbloom.Shared
@inherits LayoutComponentBase
@using Microsoft.AspNetCore.Components.Authorization

<head>
 <meta charset="utf-8">
</head>

<div class="page">
 <header class="navbar-section">
 <nav class="navbar navbar-expand-lg">
 <div class="container">
 <a class="navbar-brand" href="/">
 <img src="/images/logo.svg?v=9" alt="microbloom" style="height:45px; width: auto;">
 </a>
 <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" 
 aria-controls="navbarNav" aria-expanded="false" aria-label="Menü">
 <span class="navbar-toggler-icon"></span>
 </button>
 <div class="collapse navbar-collapse" id="navbarNav">
 <ul class="navbar-nav ms-auto align-items-center">
 <li class="nav-item">
 <a class="nav-link" href="/">Ana Sayfa</a>
 </li>
 <li class="nav-item">
 <a class="nav-link" href="/jobs">İş İlanları</a>
 </li>
 
 <!-- Kariyer Planlaması Dropdown -->
<li class="nav-item dropdown">
  <a class="nav-link dropdown-toggle" href="#" id="careerDropdown" role="button" 
    data-bs-toggle="dropdown" aria-expanded="false">
  Kariyer Planlaması
         </a>
     <ul class="dropdown-menu mega-dropdown" aria-labelledby="careerDropdown">
      <li class="dropdown-section-header">
       <strong>&#x1F3EB; ÜNİVERSİTEYE HAZIRLIK</strong>
        </li>
    <li>
      <a class="dropdown-item" href="/guide">
 &#x1F4DA; Üniversite Rehberi
       </a>
    </li>
 <li>
    <a class="dropdown-item" href="/universities">
 &#x1F3EB; Üniversiteler
  </a>
      </li>
  <li><hr class="dropdown-divider"></li>
  <li class="dropdown-section-header">
      <strong>&#x1F4BC; İLK İŞİM VE PROFESYONEL HAYAT</strong>
      </li>
    <li>
  <a class="dropdown-item" href="/career-guide">
     &#x1F4BC; İş Hayatı Rehberi
  </a>
</li>
     <li>
          <a class="dropdown-item" href="/cv-samples">
&#x1F4C4; CV Örnekleri
          </a>
    </li>
    </ul>
     </li>
 <AuthorizeView Context="authCtx">
 <Authorized>
 @if (authCtx.User.IsInRole("Employer"))
 {
 <li class="nav-item">
 <a class="nav-link" href="/company-dashboard">🏢 Şirket Paneli</a>
 </li>
 }
   else if (authCtx.User.IsInRole("JobSeeker"))
  {
     <li class="nav-item">
   <a class="nav-link" href="/my-applications">📄 Başvurularım</a>
        </li>
 }
   <li class="nav-item dropdown">
 <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" 
 data-bs-toggle="dropdown" aria-expanded="false">
 <span class="user-greeting">👤 @authCtx.User.Identity?.Name</span>
 </a>
 <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
  @if (authCtx.User.IsInRole("JobSeeker"))
  {
 <li>
 <a class="dropdown-item" href="/my-applications">
      📄 Başvurularım
 </a>
 </li>
  }
      @if (authCtx.User.IsInRole("Employer"))
    {
 <li>
 <a class="dropdown-item" href="/company-dashboard">
    🏢 Şirket Paneli
 </a>
 </li>
 <li>
 <a class="dropdown-item" href="/company/create-job">
    🚀 Yeni İlan Oluştur
 </a>
 </li>
 }
 <li><hr class="dropdown-divider"></li>
 <li>
 <a class="dropdown-item" href="/account/logout">
 🚪 Çıkış Yap
 </a>
 </li>
 </ul>
 </li>
 </Authorized>
 <NotAuthorized>
 <li class="nav-item">
 <a href="/account/login" class="btn btn-outline-primary btn-sm me-2">
  🔑 Giriş
 </a>
 </li>
 <li class="nav-item">
 <a href="/account/register" class="btn btn-primary btn-sm">
🚀 Kayıt Ol
 </a>
 </li>
 </NotAuthorized>
 </AuthorizeView>
 </ul>
 </div>
 </div>
 </nav>
 </header>

 <main class="main-content">
 @Body
 </main>

 <footer class="footer">
 <div class="container">
 <div class="row py-4">
 <div class="col-md-6 mb-4 mb-md-0">
 <div class="d-flex align-items-center mb-3">
 <img src="/images/logo.svg?v=9" alt="microbloom" style="height:40px; width: auto;">
 </div>
 <p class="text-muted mb-0" style="line-height:1.8;">
 Kariyer yolculuğunda en iyi iş fırsatlarını bulduğun platform.<br>
 Binlerce şirket ve başarılı aday tarafından güvenle kullanılıyor.
 </p>
 </div>
 <div class="col-md-6">
 <div class="text-md-end">
 <p class="text-muted small mb-2">
 <strong>microbloom</strong> - Profesyonel Kariyer Platformu
 </p>
 <p class="text-muted small mb-0">
 &copy;2025 microbloom. Tüm Hakları Saklıdır. | 
 <a href="#" class="text-decoration-none">Gizlilik</a> | 
 <a href="#" class="text-decoration-none">Şartlar</a>
 </p>
 </div>
 </div>
 </div>
 </div>
 </footer>
</div>
